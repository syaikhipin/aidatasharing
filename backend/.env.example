# AI Share Platform Environment Configuration
# This file contains all environment variables needed for the application

# ================================================================================================
# SECURITY CONFIGURATION
# ================================================================================================

# JWT Configuration (REQUIRED)
JWT_SECRET_KEY=your-jwt-secret-key-at-least-32-characters-long
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Password Policy
PASSWORD_MIN_LENGTH=8

# ================================================================================================
# DATABASE CONFIGURATION
# ================================================================================================

# Database URL (REQUIRED)
DATABASE_URL=postgresql://username:password@host:port/database

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=3600

# Database Timeout Settings (in seconds)
DB_CONNECTION_TIMEOUT=30

# ================================================================================================
# ADMIN USER CONFIGURATION (REQUIRED FOR FIRST SETUP)
# ================================================================================================

# First superuser credentials (change these immediately after setup)
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=your_admin_password

# ================================================================================================
# AI INTEGRATION CONFIGURATION
# ================================================================================================

# Google API Key for Gemini (RECOMMENDED)
# Get your API key from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# OpenAI API Key (Optional)
# OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API Key (Optional)
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ================================================================================================
# MINDSDB CONFIGURATION
# ================================================================================================

# MindsDB Connection
MINDSDB_URL=http://localhost:47334
MINDSDB_DATABASE=mindsdb
MINDSDB_USERNAME=
MINDSDB_PASSWORD=

# ================================================================================================
# SERVER CONFIGURATION
# ================================================================================================

# Environment Type
NODE_ENV=development

# CORS Configuration
BACKEND_CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# SSL Configuration
DISABLE_SSL_FOR_LOCALHOST=true
FORCE_SSL_IN_PRODUCTION=true
SSL_DEVELOPMENT_MODE=true

# ================================================================================================
# STORAGE CONFIGURATION
# ================================================================================================

# Storage Type - Simple Choice!
# Options: local, s3
STORAGE_TYPE=local

# Local Storage Paths (used when STORAGE_TYPE=local)
STORAGE_DIR=../storage
STORAGE_BASE_PATH=../storage
UPLOAD_PATH=../storage/uploads
DOCUMENT_STORAGE_PATH=../storage/documents
IMAGE_STORAGE_PATH=../storage/images
DATASET_STORAGE_PATH=../storage/datasets
TEMPORARY_FILES_PATH=../storage/temp

# S3 Storage Configuration (used when STORAGE_TYPE=s3)
# Works with AWS S3, IDrive e2, MinIO, DigitalOcean Spaces, etc.
S3_ENDPOINT_URL=your_s3_endpoint
S3_BUCKET_NAME=your_bucket_name
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key
S3_REGION=your_region
S3_USE_SSL=true
S3_ADDRESSING_STYLE=path

# File Upload Configuration
MAX_FILE_SIZE_MB=100
ALLOWED_FILE_TYPES=csv,json,xlsx,xls,txt,pdf,docx,doc,rtf,odt,jpg,jpeg,png,gif,bmp,webp

# Document Processing
MAX_DOCUMENT_SIZE_MB=50
SUPPORTED_DOCUMENT_TYPES=pdf,docx,doc,txt,rtf,odt
ENABLE_PDF_PROCESSING=true
PDF_PREVIEW_MAX_WIDTH=400
PDF_TEXT_EXTRACTION_MAX_PAGES=10

# Image Processing
MAX_IMAGE_SIZE_MB=25
SUPPORTED_IMAGE_TYPES=jpg,jpeg,png,gif,bmp,webp
ENABLE_IMAGE_PROCESSING=true
IMAGE_THUMBNAIL_SIZE=300

# ================================================================================================
# AWS/S3 CONFIGURATION (Optional)
# ================================================================================================

# AWS Credentials (Optional - for S3 storage)
# AWS_ACCESS_KEY_ID=your_aws_access_key_id
# AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
# AWS_DEFAULT_REGION=us-east-1
# S3_BUCKET_NAME=your_s3_bucket_name

# ================================================================================================
# DATA CONNECTOR CONFIGURATION
# ================================================================================================

# Connector Settings
CONNECTOR_TIMEOUT=30
MAX_CONNECTORS_PER_ORG=10
ENABLE_S3_CONNECTOR=true
ENABLE_DATABASE_CONNECTORS=true

# ================================================================================================
# PROXY SERVICE CONFIGURATION
# ================================================================================================

# Proxy Service Settings
ENABLE_PROXY_SERVICE=true
PROXY_HOST=localhost

# Proxy Ports (run within main backend, not as separate processes)
PROXY_MYSQL_PORT=10101
PROXY_POSTGRESQL_PORT=10102
PROXY_API_PORT=10103
PROXY_CLICKHOUSE_PORT=10104
PROXY_MONGODB_PORT=10105
PROXY_S3_PORT=10106
PROXY_SHARED_PORT=10107

# ================================================================================================
# APPLICATION FEATURES
# ================================================================================================

# Data Sharing
ENABLE_DATA_SHARING=true
ENABLE_AI_CHAT=true
SHARE_LINK_EXPIRY_HOURS=24
MAX_CHAT_SESSIONS_PER_DATASET=10

# File Scanning
SCAN_UPLOADED_FILES=false

# Debug Mode
DEBUG=false

# ================================================================================================
# AI MODEL CONFIGURATION
# ================================================================================================

# Gemini Model Configuration
DEFAULT_GEMINI_MODEL=gemini-2.0-flash
GEMINI_ENGINE_NAME=google_gemini_engine
GEMINI_CHAT_MODEL_NAME=gemini_chat_assistant
GEMINI_VISION_MODEL_NAME=gemini_vision_assistant
GEMINI_EMBEDDING_MODEL_NAME=gemini_embedding_assistant